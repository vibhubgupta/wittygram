{"version":3,"sources":["helpers/urls.js","helpers/utils.js","actions/posts.js","actions/actionTypes.js","components/PostsList.js","actions/auth.js","actions/search.js","components/Navbar.js","components/Home.js","components/Page404.js","components/Login.js","components/Signup.js","components/Settings.js","actions/profile.js","actions/friends.js","components/UserProfile.js","components/FriendsList.js","components/FriendsListItem.js","components/CreatePost.js","components/Post.js","components/Comment.js","components/Chat.js","components/App.js","reducers/auth.js","reducers/profile.js","reducers/friends.js","reducers/search.js","reducers/index.js","reducers/posts.js","index.js","store/index.js"],"names":["API_ROOT","APIUrls","page","limit","userId","id","likeType","searchText","getFormBody","params","formBody","property","encodedKey","encodeURIComponent","encodedValue","push","join","getAuthTokenFromLocalStorage","localStorage","getItem","fetchPosts","dispatch","url","fetch","then","response","json","data","console","log","type","posts","createComment","content","postId","method","headers","Authorization","body","post_id","success","comment","addComment","addLike","addLikeToStore","PostsList","this","props","className","map","post","key","_id","Component","signup","email","password","confirmPassword","name","confirm_password","setItem","token","user","error","message","searchUsers","repsonse","searchResultsSuccess","users","Navbar","logOut","removeItem","handleSearch","e","target","value","auth","results","to","src","alt","placeholder","onChange","length","isLoggedin","onClick","React","connect","state","search","Home","friends","Page404","style","textAlign","Login","handleEmailChange","setState","handlePasswordChange","handleFormSubmit","preventDefault","login","inProgress","from","location","pathname","required","disabled","Signup","handleInputChange","field","onFormSubmit","Settings","handleChange","fieldName","val","handleSave","editUser","editMode","fetchUserProfile","fetchUserFriends","UserProfile","checkIfUserIsAFriend","match","friend","to_user","indexOf","handleAddFriendClick","a","options","successMessage","friendship","handleRemoveFriendClick","extra","prevProps","prevParams","currentParams","profile","isUserAFriend","FriendsList","FriendsListItem","CreatePost","handleOnClick","Post","handleAddComment","handleOnCommentChange","handlePostLike","isPostLikedByUser","likes","includes","comments","onKeyPress","Comment","Chat","setupConnections","socketConnection","socket","self","on","emit","user_email","userEmail","chatroom","messages","messageObject","typedMessage","handleSubmit","io","height","PrivateRoute","privateRouteProps","path","component","render","App","jwtDecode","authenticateUser","basename","document","querySelector","getAttribute","exact","initialAuthState","initalProfileState","defaultProfileState","initialSearchState","combineReducers","action","newPosts","updatedPosts","concat","newArr","filter","store","createStore","reducer","applyMiddleware","thunk","logger","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4b5d0d3e.chunk.js","sourcesContent":["const API_ROOT = 'https://codeial.codingninjas.com:8000/api/v2';\n\nexport const APIUrls = {\n  login: () => `${API_ROOT}/users/login`,\n  signup: () => `${API_ROOT}/users/signup`,\n  editProfile: () => `${API_ROOT}/users/edit`,\n  fetchPosts: (page = 1, limit = 15) =>\n    `${API_ROOT}/posts?page=${page}&limit=${limit}`,\n  userProfile: (userId) => `${API_ROOT}/users/${userId}`,\n  userFriends: () => `${API_ROOT}/friendship/fetch_user_friends`,\n  addFriend: (userId) =>\n    `${API_ROOT}/friendship/create_friendship?user_id=${userId}`,\n  removeFriend: (userId) =>\n    `${API_ROOT}/friendship/remove_friendship?user_id=${userId}`,\n  createPost: () => `${API_ROOT}/posts/create`,\n  createComment: () => `${API_ROOT}/comments/`,\n  toggleLike: (id, likeType) =>\n    `${API_ROOT}/likes/toggle?likeable_id=${id}&likeable_type=${likeType}`,\n  userSearch: (searchText) => `${API_ROOT}/users/search?text=${searchText}`,\n};\n","export function getFormBody(params) {\n  let formBody = [];\n\n  for (let property in params) {\n    let encodedKey = encodeURIComponent(property); // 'user name' => 'user%20name'\n    let encodedValue = encodeURIComponent(params[property]); // aakash 123 => aakash%2020123\n\n    formBody.push(encodedKey + '=' + encodedValue);\n  }\n\n  return formBody.join('&'); // 'username=aakash&password=123213'\n}\n\nexport function getAuthTokenFromLocalStorage() {\n  return localStorage.getItem('token');\n}\n","import {\n  UPDATE_POSTS,\n  ADD_POST,\n  ADD_COMMENT,\n  UPDATE_POST_LIKE,\n} from './actionTypes';\nimport { APIUrls } from '../helpers/urls';\nimport { getAuthTokenFromLocalStorage, getFormBody } from '../helpers/utils';\n\nexport function fetchPosts() {\n  return (dispatch) => {\n    const url = APIUrls.fetchPosts();\n    fetch(url)\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        console.log(data);\n        dispatch(updatePosts(data.data.posts));\n      });\n  };\n}\n\nexport function updatePosts(posts) {\n  return {\n    type: UPDATE_POSTS,\n    posts,\n  };\n}\n\nexport function addPost(post) {\n  return {\n    type: ADD_POST,\n    post,\n  };\n}\n\nexport function createPost(content) {\n  return (dispatch) => {\n    const url = APIUrls.createPost();\n\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        Authorization: `Bearer ${getAuthTokenFromLocalStorage()}`,\n      },\n      body: getFormBody({ content }),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log('dATA', data);\n\n        if (data.success) {\n          dispatch(addPost(data.data.post));\n        }\n      });\n  };\n}\n\nexport function createComment(content, postId) {\n  return (dispatch) => {\n    const url = APIUrls.createComment();\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        Authorization: `Bearer ${getAuthTokenFromLocalStorage()}`,\n      },\n      body: getFormBody({ content, post_id: postId }),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        if (data.success) {\n          dispatch(addComment(data.data.comment, postId));\n        }\n      });\n  };\n}\n\nexport function addComment(comment, postId) {\n  return {\n    type: ADD_COMMENT,\n    comment,\n    postId,\n  };\n}\n\nexport function addLike(id, likeType, userId) {\n  return (dispatch) => {\n    const url = APIUrls.toggleLike(id, likeType);\n\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        Authorization: `Bearer ${getAuthTokenFromLocalStorage()}`,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log('LIKE DATA', data);\n\n        if (data.success) {\n          dispatch(addLikeToStore(id, userId));\n        }\n      });\n  };\n}\n\nexport function addLikeToStore(postId, userId) {\n  return {\n    type: UPDATE_POST_LIKE,\n    postId,\n    userId,\n  };\n}\n","export const UPDATE_POSTS = 'UPDATE_POSTS';\n\n// login action types\nexport const LOGIN_START = 'LOGIN_START';\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAILED = 'LOGIN_FAILED';\n\nexport const AUTHENTICATE_USER = 'AUTHENTICATE_USER';\nexport const LOG_OUT = 'LOG_OUT';\n\n// signup\nexport const SIGNUP_START = 'SIGNUP_START';\nexport const SIGNUP_SUCCESS = 'SIGNUP_SUCCESS';\nexport const SIGNUP_FAILED = 'SIGNUP_FAILED';\nexport const CLEAR_AUTH_STATE = 'CLEAR_AUTH_STATE';\n\nexport const EDIT_USER_SUCCESSFUL = 'EDIT_USER_SUCCESSFUL';\nexport const EDIT_USER_FAILED = 'EDIT_USER_FAILED';\n\nexport const USER_PROFILE_SUCCESS = 'USER_PROFILE_SUCCESS';\nexport const USER_PROFILE_FAILURE = 'USER_PROFILE_FAILURE';\nexport const FETCH_USER_PROFILE = 'FETCH_USER_PROFILE';\n\n// friends\nexport const FETCH_FRIENDS_SUCCESS = 'FETCH_FRIENDS_SUCCESS';\nexport const ADD_FRIEND = 'ADD_FRIEND';\nexport const REMOVE_FRIEND = 'REMOVE_FRIEND';\nexport const ADD_POST = 'ADD_POST';\nexport const ADD_COMMENT = 'ADD_COMMENT';\nexport const UPDATE_POST_LIKE = 'UPDATE_POST_LIKE';\n\n// search\nexport const FETCH_SEARCH_RESULTS_SUCCESS = 'FETCH_SEARCH_RESULTS_SUCCESS';\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { CreatePost, Post } from './';\n\nclass PostsList extends Component {\n  render() {\n    const { posts } = this.props;\n    return (\n      <div className=\"posts-list\">\n        <CreatePost />\n        {posts.map((post) => (\n          <Post post={post} key={post._id} />\n        ))}\n      </div>\n    );\n  }\n}\n\nPostsList.propTypes = {\n  posts: PropTypes.array.isRequired,\n};\n\nexport default PostsList;\n","import {\n  LOGIN_START,\n  LOGIN_FAILED,\n  LOGIN_SUCCESS,\n  AUTHENTICATE_USER,\n  LOG_OUT,\n  SIGNUP_START,\n  SIGNUP_FAILED,\n  SIGNUP_SUCCESS,\n  CLEAR_AUTH_STATE,\n  EDIT_USER_SUCCESSFUL,\n} from './actionTypes';\nimport { APIUrls } from '../helpers/urls';\nimport { getFormBody, getAuthTokenFromLocalStorage } from '../helpers/utils';\n\nexport function startLogin() {\n  return {\n    type: LOGIN_START,\n  };\n}\nexport function loginFailed(errorMessage) {\n  return {\n    type: LOGIN_FAILED,\n    error: errorMessage,\n  };\n}\n\nexport function loginSuccess(user) {\n  return {\n    type: LOGIN_SUCCESS,\n    user,\n  };\n}\n\nexport function login(email, password) {\n  return (dispatch) => {\n    dispatch(startLogin());\n    const url = APIUrls.login();\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      body: getFormBody({ email, password }),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log('data', data);\n        if (data.success) {\n          // dispatch action to save user\n          localStorage.setItem('token', data.data.token);\n          dispatch(loginSuccess(data.data.user));\n          return;\n        }\n        dispatch(loginFailed(data.message));\n      });\n  };\n}\n\nexport function authenticateUser(user) {\n  return {\n    type: AUTHENTICATE_USER,\n    user,\n  };\n}\n\nexport function logoutUser() {\n  return {\n    type: LOG_OUT,\n  };\n}\n\nexport function signup(email, password, confirmPassword, name) {\n  return (dispatch) => {\n    const url = APIUrls.signup();\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      body: getFormBody({\n        email,\n        password,\n        confirm_password: confirmPassword,\n        name,\n      }),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        // console.log('data', data);\n        if (data.success) {\n          // do something\n          localStorage.setItem('token', data.data.token);\n          dispatch(signupSuccessful(data.data.user));\n          return;\n        }\n        dispatch(signupFailed(data.message));\n      });\n  };\n}\n\nexport function startSingup() {\n  return {\n    type: SIGNUP_START,\n  };\n}\n\nexport function signupFailed(error) {\n  return {\n    type: SIGNUP_FAILED,\n    error,\n  };\n}\n\nexport function signupSuccessful(user) {\n  return {\n    type: SIGNUP_SUCCESS,\n    user,\n  };\n}\n\nexport function clearAuthState() {\n  return {\n    type: CLEAR_AUTH_STATE,\n  };\n}\n\nexport function editUserSuccessful(user) {\n  return {\n    type: EDIT_USER_SUCCESSFUL,\n    user,\n  };\n}\n\nexport function editUserFailed(error) {\n  return {\n    type: EDIT_USER_SUCCESSFUL,\n    error,\n  };\n}\n\nexport function editUser(name, password, confirmPassword, userId) {\n  return (dispatch) => {\n    const url = APIUrls.editProfile();\n\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        Authorization: `Bearer ${getAuthTokenFromLocalStorage()}`,\n      },\n      body: getFormBody({\n        name,\n        password,\n        confirm_password: confirmPassword,\n        id: userId,\n      }),\n    })\n      .then((repsonse) => repsonse.json())\n      .then((data) => {\n        console.log('EDIT PROFIle data', data);\n        if (data.success) {\n          dispatch(editUserSuccessful(data.data.user));\n\n          if (data.data.token) {\n            localStorage.setItem('token', data.data.token);\n          }\n          return;\n        }\n\n        dispatch(editUserFailed(data.message));\n      });\n  };\n}\n","import { FETCH_SEARCH_RESULTS_SUCCESS } from './actionTypes';\nimport { getAuthTokenFromLocalStorage } from '../helpers/utils';\nimport { APIUrls } from '../helpers/urls';\n\nexport function searchUsers(searchText) {\n  return (dispatch) => {\n    const url = APIUrls.userSearch(searchText);\n\n    fetch(url, {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        Authorization: `Bearer ${getAuthTokenFromLocalStorage()}`,\n      },\n    })\n      .then((repsonse) => repsonse.json())\n      .then((data) => {\n        console.log('SEARCH data', data);\n        if (data.success) {\n          dispatch(searchResultsSuccess(data.data.users));\n        } else {\n          dispatch(searchResultsSuccess([]));\n        }\n      });\n  };\n}\n\nexport function searchResultsSuccess(users) {\n  return {\n    type: FETCH_SEARCH_RESULTS_SUCCESS,\n    users,\n  };\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport { logoutUser } from '../actions/auth';\nimport { searchUsers } from '../actions/search';\n\nclass Navbar extends React.Component {\n  logOut = () => {\n    localStorage.removeItem('token');\n    this.props.dispatch(logoutUser());\n  };\n\n  handleSearch = (e) => {\n    const searchText = e.target.value;\n\n    this.props.dispatch(searchUsers(searchText));\n  };\n\n  render() {\n    const { auth, results } = this.props;\n    return (\n      <nav className=\"nav\">\n        <div className=\"left-div\">\n          <Link to=\"/\">\n            <img\n              src=\"https://ninjasfiles.s3.amazonaws.com/0000000000003454.png\"\n              alt=\"logo\"\n            />\n          </Link>\n        </div>\n        <div className=\"search-container\">\n          <img\n            className=\"search-icon\"\n            src=\"https://cdn-icons-png.flaticon.com/512/54/54481.png\"\n            alt=\"search-icon\"\n          />\n          <input placeholder=\"Search\" onChange={this.handleSearch} />\n\n          {results.length > 0 && (\n            <div className=\"search-results\">\n              <ul>\n                {results.map((user) => (\n                  <li className=\"search-results-row\" key={user._id}>\n                    <Link to={`/user/${user._id}`}>\n                      <img\n                        src=\"https://cdn-icons-png.flaticon.com/512/149/149071.png\"\n                        alt=\"user-dp\"\n                      />\n                      <span>{user.name}</span>\n                    </Link>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n        <div className=\"right-nav\">\n          {auth.isLoggedin && (\n            <div className=\"user\">\n              <Link to=\"/settings\">\n                <img\n                  src=\"https://picsum.photos/200/200\"\n                  alt=\"user-dp\"\n                  id=\"user-dp\"\n                />\n              </Link>\n              <span>{auth.user.name}</span>\n            </div>\n          )}\n\n          <div className=\"nav-links\">\n            <ul>\n              {!auth.isLoggedin && (\n                <li>\n                  <Link to=\"/login\">Log in</Link>\n                </li>\n              )}\n\n              {auth.isLoggedin && <li onClick={this.logOut}>Log out</li>}\n\n              {!auth.isLoggedin && (\n                <li>\n                  <Link to=\"/signup\">Register</Link>\n                </li>\n              )}\n            </ul>\n          </div>\n        </div>\n      </nav>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    results: state.search.results,\n  };\n}\nexport default connect(mapStateToProps)(Navbar);\n","import React, { Component } from 'react';\nimport { PostsList, FriendsList, Chat } from './';\n\nclass Home extends Component {\n  render() {\n    const { posts, friends, isLoggedin } = this.props;\n    return (\n      <div className=\"home\">\n        <PostsList posts={posts} />\n        {isLoggedin && <FriendsList friends={friends} />}\n        {isLoggedin && <Chat />}\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React from 'react';\r\n\r\nfunction Page404(props) {\r\n  return (\r\n    <div>\r\n      <h1 style={{ textAlign: 'center' }}>Welcome to Wittygram </h1>\r\n      <h3 style={{ textAlign: 'center' }}>Login/Sign up to get started! </h3>\r\n      {/* <p style={({ paddingLeft: 30 }, { margin: 10 })}>\r\n        If this page keeps popping up, &apos;s most probably your own fault!{' '}\r\n      </p> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Page404;\r\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { login, clearAuthState } from '../actions/auth';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    // this.emailInputRef = React.createRef();\n    // this.passwordInputRef = React.createRef();\n    this.state = {\n      email: '',\n      password: '',\n    };\n  }\n\n  componentWillUnmount() {\n    this.props.dispatch(clearAuthState());\n  }\n\n  handleEmailChange = (e) => {\n    this.setState({\n      email: e.target.value,\n    });\n  };\n\n  handlePasswordChange = (e) => {\n    this.setState({\n      password: e.target.value,\n    });\n  };\n\n  handleFormSubmit = (e) => {\n    e.preventDefault();\n    // console.log('this.emailInputRef', this.emailInputRef);\n    // console.log('this.passwordInputRef', this.passwordInputRef);\n    console.log('this.state', this.state);\n    const { email, password } = this.state;\n\n    if (email && password) {\n      this.props.dispatch(login(email, password));\n    }\n  };\n\n  render() {\n    const { error, inProgress, isLoggedin } = this.props.auth;\n    const { from } = this.props.location.state || { from: { pathname: '/' } };\n\n    if (isLoggedin) {\n      return <Redirect to={from} />;\n    }\n    return (\n      <form className=\"login-form\">\n        <span className=\"login-signup-header\">Log In</span>\n        {error && <div className=\"alert error-dailog\">{error}</div>}\n        <div className=\"field\">\n          <input\n            type=\"email\"\n            placeholder=\"Email\"\n            required\n            // ref={this.emailInputRef}\n            onChange={this.handleEmailChange}\n            value={this.state.email}\n          />\n        </div>\n        <div className=\"field\">\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            required\n            // ref={this.passwordInputRef}\n            onChange={this.handlePasswordChange}\n            value={this.state.password}\n          />\n        </div>\n        <div className=\"field\">\n          {inProgress ? (\n            <button onClick={this.handleFormSubmit} disabled={inProgress}>\n              Logging in...\n            </button>\n          ) : (\n            <button onClick={this.handleFormSubmit} disabled={inProgress}>\n              Log In\n            </button>\n          )}\n        </div>\n      </form>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n  };\n}\nexport default connect(mapStateToProps)(Login);\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { startSingup, signup, clearAuthState } from '../actions/auth';\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: '',\n      name: '',\n      confirmPassword: '',\n    };\n  }\n\n  componentWillUnmount() {\n    this.props.dispatch(clearAuthState());\n  }\n\n  handleInputChange = (field, value) => {\n    this.setState({\n      [field]: value,\n    });\n  };\n\n  onFormSubmit = (e) => {\n    e.preventDefault();\n    const { email, password, confirmPassword, name } = this.state;\n\n    if (email && password && confirmPassword && name) {\n      this.props.dispatch(startSingup());\n      this.props.dispatch(signup(email, password, confirmPassword, name));\n    }\n  };\n\n  render() {\n    const { inProgress, error, isLoggedin } = this.props.auth;\n\n    if (isLoggedin) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <form className=\"login-form\">\n        <span className=\"login-signup-header\"> Signup</span>\n        {error && <div className=\"alert error-dailog\">{error}</div>}\n        <div className=\"field\">\n          <input\n            placeholder=\"Name\"\n            type=\"text\"\n            required\n            onChange={(e) => this.handleInputChange('name', e.target.value)}\n          />\n        </div>\n        <div className=\"field\">\n          <input\n            placeholder=\"Email\"\n            type=\"email\"\n            required\n            onChange={(e) => this.handleInputChange('email', e.target.value)}\n          />\n        </div>\n        <div className=\"field\">\n          <input\n            placeholder=\"Confirm password\"\n            type=\"password\"\n            required\n            onChange={(e) =>\n              this.handleInputChange('confirmPassword', e.target.value)\n            }\n          />\n        </div>\n        <div className=\"field\">\n          <input\n            placeholder=\"Password\"\n            type=\"password\"\n            required\n            onChange={(e) => this.handleInputChange('password', e.target.value)}\n          />\n        </div>\n        <div className=\"field\">\n          <button onClick={this.onFormSubmit} disabled={inProgress}>\n            Signup\n          </button>\n        </div>\n      </form>\n    );\n  }\n}\n\nconst mapStateToProps = ({ auth }) => ({\n  auth,\n});\n\nexport default connect(mapStateToProps)(Signup);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { editUser, clearAuthState } from '../actions/auth';\n\nclass Settings extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: props.auth.user.name,\n      password: '',\n      confirmPassword: '',\n      editMode: false,\n    };\n  }\n\n  handleChange = (fieldName, val) => {\n    this.setState({\n      [fieldName]: val,\n    });\n  };\n\n  handleSave = () => {\n    const { password, confirmPassword, name } = this.state;\n    const { user } = this.props.auth;\n\n    this.props.dispatch(editUser(name, password, confirmPassword, user._id));\n  };\n\n  componentWillUnmount() {\n    this.props.dispatch(clearAuthState());\n  }\n  render() {\n    const { user, error } = this.props.auth;\n    const { editMode } = this.state;\n    return (\n      <div className=\"settings\">\n        <div className=\"img-container\">\n          <img src=\"https://picsum.photos/200/200\" alt=\"user-dp\" />\n        </div>\n\n        {error && <div className=\"alert error-dailog\">{error}</div>}\n        {error === false && (\n          <div className=\"alert success-dailog\">\n            Successfully updated profile!\n          </div>\n        )}\n        <div className=\"field\">\n          <div className=\"field-label\">Email</div>\n          <div className=\"field-value\">{user.email}</div>\n        </div>\n\n        <div className=\"field\">\n          <div className=\"field-label\">Name</div>\n          {editMode ? (\n            <input\n              type=\"text\"\n              onChange={(e) => this.handleChange('name', e.target.value)}\n              value={this.state.name}\n            />\n          ) : (\n            <div className=\"field-value\">{user.name}</div>\n          )}\n        </div>\n\n        {editMode && (\n          <div className=\"field\">\n            <div className=\"field-label\">New password</div>\n\n            <input\n              type=\"password\"\n              onChange={(e) => this.handleChange('password', e.target.value)}\n              value={this.state.password}\n            />\n          </div>\n        )}\n\n        {editMode && (\n          <div className=\"field\">\n            <div className=\"field-label\">Confirm password</div>\n\n            <input\n              type=\"password\"\n              onChange={(e) =>\n                this.handleChange('confirmPassword', e.target.value)\n              }\n              value={this.state.confirmPassword}\n            />\n          </div>\n        )}\n\n        <div className=\"btn-grp\">\n          {editMode ? (\n            <button className=\"button save-btn\" onClick={this.handleSave}>\n              Save\n            </button>\n          ) : (\n            <button\n              className=\"button edit-btn\"\n              onClick={() => this.handleChange('editMode', true)}\n            >\n              Edit profile\n            </button>\n          )}\n\n          {editMode && (\n            <div\n              className=\"go-back\"\n              onClick={() => this.handleChange('editMode', false)}\n            >\n              Go back\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps({ auth }) {\n  return {\n    auth,\n  };\n}\nexport default connect(mapStateToProps)(Settings);\n","import {\n  USER_PROFILE_SUCCESS,\n  USER_PROFILE_FAILURE,\n  FETCH_USER_PROFILE,\n} from './actionTypes';\nimport { APIUrls } from '../helpers/urls';\nimport { getAuthTokenFromLocalStorage } from '../helpers/utils';\n\nexport function startUserProfileFetch() {\n  return {\n    type: FETCH_USER_PROFILE,\n  };\n}\n\nexport function userProfileSuccess(user) {\n  return {\n    type: USER_PROFILE_SUCCESS,\n    user,\n  };\n}\n\nexport function userProfileFailed(error) {\n  return {\n    type: USER_PROFILE_FAILURE,\n    error,\n  };\n}\n\nexport function fetchUserProfile(userId) {\n  return (dispatch) => {\n    dispatch(startUserProfileFetch());\n\n    const url = APIUrls.userProfile(userId);\n    fetch(url, {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        Authorization: `Bearer ${getAuthTokenFromLocalStorage()}`,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        dispatch(userProfileSuccess(data.data.user));\n      });\n  };\n}\n","import { APIUrls } from '../helpers/urls';\nimport { getAuthTokenFromLocalStorage } from '../helpers/utils';\nimport {\n  FETCH_FRIENDS_SUCCESS,\n  ADD_FRIEND,\n  REMOVE_FRIEND,\n} from './actionTypes';\n\nexport function fetchUserFriends(userId) {\n  return (dispatch) => {\n    const url = APIUrls.userFriends(userId);\n    fetch(url, {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        Authorization: `Bearer ${getAuthTokenFromLocalStorage()}`,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log('data', data);\n        dispatch(fetchFriendsSucces(data.data.friends));\n      });\n  };\n}\n\nexport function fetchFriendsSucces(friends) {\n  return {\n    type: FETCH_FRIENDS_SUCCESS,\n    friends,\n  };\n}\n\nexport function addFriend(friend) {\n  return {\n    type: ADD_FRIEND,\n    friend,\n  };\n}\n\nexport function removeFriend(userId) {\n  return {\n    type: REMOVE_FRIEND,\n    userId,\n  };\n}\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchUserProfile } from '../actions/profile';\nimport { APIUrls } from '../helpers/urls';\nimport { getAuthTokenFromLocalStorage } from '../helpers/utils';\nimport { addFriend, removeFriend } from '../actions/friends';\n\nclass UserProfile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      success: null,\n      error: null,\n      successMessage: null,\n    };\n  }\n  componentDidMount() {\n    const { match } = this.props;\n\n    if (match.params.userId) {\n      // dispatch an action\n      this.props.dispatch(fetchUserProfile(match.params.userId));\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      match: { params: prevParams },\n    } = prevProps;\n\n    const {\n      match: { params: currentParams },\n    } = this.props;\n\n    if (\n      prevParams &&\n      currentParams &&\n      prevParams.userId !== currentParams.userId\n    ) {\n      this.props.dispatch(fetchUserProfile(currentParams.userId));\n    }\n  }\n\n  checkIfUserIsAFriend = () => {\n    console.log('this.props', this.props);\n    const { match, friends } = this.props;\n    const userId = match.params.userId;\n\n    const index = friends.map((friend) => friend.to_user._id).indexOf(userId);\n\n    if (index !== -1) {\n      return true;\n    }\n\n    return false;\n  };\n\n  handleAddFriendClick = async () => {\n    const userId = this.props.match.params.userId;\n    const url = APIUrls.addFriend(userId);\n\n    const options = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        Authorization: `Bearer ${getAuthTokenFromLocalStorage()}`,\n      },\n    };\n\n    const response = await fetch(url, options);\n    const data = await response.json();\n\n    if (data.success) {\n      this.setState({\n        success: true,\n        successMessage: 'Added friend successfully!',\n      });\n\n      this.props.dispatch(addFriend(data.data.friendship));\n    } else {\n      this.setState({\n        success: null,\n        error: data.message,\n      });\n    }\n  };\n\n  handleRemoveFriendClick = async () => {\n    // Mini Assignment\n    const { match } = this.props;\n    const url = APIUrls.removeFriend(match.params.userId);\n\n    const extra = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        Authorization: `Bearer ${getAuthTokenFromLocalStorage()}`,\n      },\n    };\n\n    const response = await fetch(url, extra);\n    const data = await response.json();\n    console.log('await data', data);\n\n    if (data.success) {\n      // show user message\n      this.setState({\n        success: true,\n        successMessage: 'Removed friends successfully!',\n      });\n      this.props.dispatch(removeFriend(match.params.userId));\n    } else {\n      this.setState({\n        success: null,\n        error: data.message,\n      });\n    }\n  };\n\n  render() {\n    const {\n      match: { params },\n      profile,\n    } = this.props;\n    console.log('this.props', params);\n    const user = profile.user;\n\n    if (profile.inProgress) {\n      return <h1>Loading!</h1>;\n    }\n\n    const isUserAFriend = this.checkIfUserIsAFriend();\n    const { success, error, successMessage } = this.state;\n    return (\n      <div className=\"settings\">\n        <div className=\"img-container\">\n          <img src=\"https://picsum.photos/200\" alt=\"user-dp\" />\n        </div>\n\n        <div className=\"field\">\n          <div className=\"field-label\">Name</div>\n          <div className=\"field-value\">{user.name}</div>\n        </div>\n\n        <div className=\"field\">\n          <div className=\"field-label\">Email</div>\n          <div className=\"field-value\">{user.email}</div>\n        </div>\n\n        <div className=\"btn-grp\">\n          {!isUserAFriend ? (\n            <button\n              className=\"button save-btn\"\n              onClick={this.handleAddFriendClick}\n            >\n              Add Friend\n            </button>\n          ) : (\n            <button\n              className=\"button save-btn\"\n              onClick={this.handleRemoveFriendClick}\n            >\n              Remove Friend\n            </button>\n          )}\n\n          {success && (\n            <div className=\"alert success-dailog\">{successMessage}</div>\n          )}\n          {error && <div className=\"alert error-dailog\">{error}</div>}\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps({ profile, friends }) {\n  return {\n    profile,\n    friends,\n  };\n}\nexport default connect(mapStateToProps)(UserProfile);\n","import React from 'react';\nimport { FriendsListItem } from './';\n\nconst FriendsList = (props) => {\n  return (\n    <div className=\"friends-list\">\n      <div className=\"header\">Friends</div>\n\n      {props.friends && props.friends.length === 0 && (\n        <div className=\"no-friends\">No friends found!</div>\n      )}\n\n      {props.friends &&\n        props.friends.map((friend) => (\n          <FriendsListItem friend={friend.to_user} key={friend._id} />\n        ))}\n    </div>\n  );\n};\n\nexport default FriendsList;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction FriendsListItem(props) {\n  return (\n    <div>\n      <Link className=\"friends-item\" to={`user/${props.friend._id}`}>\n        <div className=\"friends-img\">\n          <img\n            src=\"https://cdn-icons-png.flaticon.com/512/149/149071.png\"\n            alt=\"user-pic\"\n          />\n        </div>\n        <div className=\"friends-name\">{props.friend.email}</div>\n      </Link>\n    </div>\n  );\n}\n\nexport default FriendsListItem;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { createPost } from '../actions/posts';\n\nclass CreatePost extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      content: '',\n    };\n  }\n\n  handleOnClick = () => {\n    // dispatch action\n    this.props.dispatch(createPost(this.state.content));\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      content: e.target.value,\n    });\n  };\n  render() {\n    return (\n      <div className=\"create-post\">\n        <textarea\n          className=\"add-post\"\n          value={this.state.content}\n          onChange={this.handleChange}\n          placeholder=\"Share with your network\"\n        />\n\n        <div>\n          <button id=\"add-post-btn\" onClick={this.handleOnClick}>\n            Add Post\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect()(CreatePost);\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Comment } from './';\nimport { createComment, addLike } from '../actions/posts';\n\nclass Post extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      comment: '',\n    };\n  }\n  handleAddComment = (e) => {\n    const { comment } = this.state;\n    const { post } = this.props;\n\n    if (e.key === 'Enter') {\n      this.props.dispatch(createComment(comment, post._id));\n\n      // clear comment\n      this.setState({\n        comment: '',\n      });\n    }\n  };\n\n  handleOnCommentChange = (e) => {\n    this.setState({\n      comment: e.target.value,\n    });\n  };\n\n  handlePostLike = () => {\n    const { post, user } = this.props;\n    this.props.dispatch(addLike(post._id, 'Post', user._id));\n  };\n  render() {\n    const { post, user } = this.props;\n    const { comment } = this.state;\n\n    const isPostLikedByUser = post.likes.includes(user._id);\n\n    return (\n      <div className=\"post-wrapper\" key={post._id}>\n        <div className=\"post-header\">\n          <div className=\"post-avatar\">\n            <Link to={`/user/${post.user._id}`}>\n              <img\n                src=\"https://cdn-icons-png.flaticon.com/512/149/149071.png\"\n                alt=\"user-pic\"\n              />\n            </Link>\n            <div>\n              <span className=\"post-author\">{post.user.name}</span>\n              <span className=\"post-time\">a minute ago</span>\n            </div>\n          </div>\n          <div className=\"post-content\">{post.content}</div>\n\n          <div className=\"post-actions\">\n            <button className=\"post-like no-btn\" onClick={this.handlePostLike}>\n              {isPostLikedByUser ? (\n                <img\n                  src=\"https://cdn-icons-png.flaticon.com/512/1076/1076984.png\"\n                  alt=\"like post\"\n                />\n              ) : (\n                <img\n                  src=\"https://cdn-icons-png.flaticon.com/512/1077/1077035.png\"\n                  alt=\"likes-icon\"\n                />\n              )}\n              <span>{post.likes.length}</span>\n            </button>\n\n            <div className=\"post-comments-icon\">\n              <img\n                src=\"https://cdn-icons.flaticon.com/png/512/3114/premium/3114810.png?token=exp=1659082588~hmac=a81cc15f217b525b32778fd931d89aa4\"\n                alt=\"comments-icon\"\n              />\n              <span>{post.comments.length}</span>\n            </div>\n          </div>\n          <div className=\"post-comment-box\">\n            <input\n              placeholder=\"Start typing a comment\"\n              onChange={this.handleOnCommentChange}\n              onKeyPress={this.handleAddComment}\n              value={comment}\n            />\n          </div>\n\n          <div className=\"post-comments-list\">\n            {post.comments.map((comment) => (\n              <Comment comment={comment} key={comment._id} postId={post._id} />\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPost.propTypes = {\n  post: PropTypes.object.isRequired,\n};\n\nfunction mapStateToProps({ auth }) {\n  return {\n    user: auth.user,\n  };\n}\n\nexport default connect(mapStateToProps)(Post);\n","import React from 'react';\n\nfunction Comment({ comment }) {\n  return (\n    <div className=\"post-comment-item\">\n      <div className=\"post-comment-header\">\n        <span className=\"post-comment-author\">{comment.user.name}</span>\n        <span className=\"post-comment-time\">a minute ago</span>\n        <span className=\"post-comment-likes\">{comment.likes.length} likes</span>\n      </div>\n\n      <div className=\"post-comment-content\">{comment.content}</div>\n    </div>\n  );\n}\n\nexport default Comment;\n","import React, { Component } from 'react';\nimport io from 'socket.io-client';\nimport { connect } from 'react-redux';\nimport '../chat.css';\n\nclass Chat extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      messages: [], // {content: 'some message', self: true}\n      typedMessage: '',\n    };\n    this.socket = io.connect('http://54.237.158.65:5000');\n    this.userEmail = props.user.email;\n\n    if (this.userEmail) {\n      this.setupConnections();\n    }\n  }\n\n  setupConnections = () => {\n    const socketConnection = this.socket;\n    const self = this;\n\n    this.socket.on('connect', function () {\n      console.log('CONNECTION ESTABLISHED');\n\n      socketConnection.emit('join_room', {\n        user_email: this.userEmail,\n        chatroom: 'codeial',\n      });\n\n      socketConnection.on('user_joined', function (data) {\n        console.log('NEW USER JOINED', data);\n      });\n    });\n\n    this.socket.on('receive_message', function (data) {\n      // add message to state\n      const { messages } = self.state;\n      const messageObject = {};\n      messageObject.content = data.message;\n\n      if (data.user_email === self.userEmail) {\n        messageObject.self = true;\n      }\n\n      self.setState({\n        messages: [...messages, messageObject],\n        typedMessage: '',\n      });\n    });\n  };\n\n  handleSubmit = () => {\n    const { typedMessage } = this.state;\n\n    if (typedMessage && this.userEmail) {\n      this.socket.emit('send_message', {\n        message: typedMessage,\n        user_email: this.userEmail,\n        chatroom: 'codeial',\n      });\n    }\n  };\n\n  render() {\n    const { typedMessage, messages } = this.state;\n\n    return (\n      <div className=\"chat-container\">\n        <div className=\"chat-header\">\n          Chat\n          <img\n            src=\"https://www.iconsdb.com/icons/preview/white/minus-5-xxl.png\"\n            alt=\"\"\n            height={17}\n          />\n        </div>\n        <div className=\"chat-messages\">\n          {messages.map((message) => (\n            <div\n              className={\n                message.self\n                  ? 'chat-bubble self-chat'\n                  : 'chat-bubble other-chat'\n              }\n            >\n              {message.content}\n            </div>\n          ))}\n        </div>\n        <div className=\"chat-footer\">\n          <input\n            type=\"text\"\n            value={typedMessage}\n            onChange={(e) => this.setState({ typedMessage: e.target.value })}\n          />\n          <button onClick={this.handleSubmit}>Submit</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps({ auth }) {\n  return {\n    user: auth.user,\n  };\n}\nexport default connect(mapStateToProps)(Chat);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport { fetchPosts } from '../actions/posts';\nimport {\n  Home,\n  Navbar,\n  Page404,\n  Login,\n  Signup,\n  Settings,\n  UserProfile,\n} from './';\nimport * as jwtDecode from 'jwt-decode';\nimport { authenticateUser } from '../actions/auth';\nimport { getAuthTokenFromLocalStorage } from '../helpers/utils';\nimport { fetchUserFriends } from '../actions/friends';\n\nconst PrivateRoute = (privateRouteProps) => {\n  const { isLoggedin, path, component: Component } = privateRouteProps;\n\n  return (\n    <Route\n      path={path}\n      render={(props) => {\n        return isLoggedin ? (\n          <Component {...props} />\n        ) : (\n          <Redirect\n            to={{\n              pathname: '/login',\n              state: {\n                from: props.location,\n              },\n            }}\n          />\n        );\n      }}\n    />\n  );\n};\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.dispatch(fetchPosts());\n\n    const token = getAuthTokenFromLocalStorage();\n\n    if (token) {\n      const user = jwtDecode(token);\n\n      console.log('user', user);\n      this.props.dispatch(\n        authenticateUser({\n          email: user.email,\n          _id: user._id,\n          name: user.name,\n        })\n      );\n\n      this.props.dispatch(fetchUserFriends());\n    }\n  }\n\n  render() {\n    const { posts, auth, friends } = this.props;\n    const basename =\n      document.querySelector('base')?.getAttribute('href') ?? '/';\n    return (\n      <Router basename={basename}>\n        <div>\n          <Navbar />\n\n          <Switch>\n            <Route\n              exact\n              path=\"/\"\n              render={(props) => {\n                return (\n                  <Home\n                    {...props}\n                    posts={posts}\n                    friends={friends}\n                    isLoggedin={auth.isLoggedin}\n                  />\n                );\n              }}\n            />\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/signup\" component={Signup} />\n            <PrivateRoute\n              path=\"/settings\"\n              component={Settings}\n              isLoggedin={auth.isLoggedin}\n            />\n            <PrivateRoute\n              path=\"/user/:userId\"\n              component={UserProfile}\n              isLoggedin={auth.isLoggedin}\n            />\n            <Route component={Page404} />\n          </Switch>\n        </div>\n      </Router>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    posts: state.posts,\n    auth: state.auth,\n    friends: state.friends,\n  };\n}\n\nApp.propTypes = {\n  posts: PropTypes.array.isRequired,\n};\n\nexport default connect(mapStateToProps)(App);\n","import {\n  LOGIN_START,\n  LOGIN_SUCCESS,\n  LOGIN_FAILED,\n  AUTHENTICATE_USER,\n  LOG_OUT,\n  SIGNUP_START,\n  SIGNUP_SUCCESS,\n  SIGNUP_FAILED,\n  CLEAR_AUTH_STATE,\n  EDIT_USER_SUCCESSFUL,\n  EDIT_USER_FAILED,\n} from '../actions/actionTypes';\n\nconst initialAuthState = {\n  user: {},\n  error: null,\n  isLoggedin: false,\n  inProgress: false,\n};\n\nexport default function auth(state = initialAuthState, action) {\n  switch (action.type) {\n    case CLEAR_AUTH_STATE:\n      return {\n        ...state,\n        error: null,\n      };\n    case LOGIN_START:\n    case SIGNUP_START:\n      return {\n        ...state,\n        inProgress: true,\n      };\n    case LOGIN_SUCCESS:\n    case SIGNUP_SUCCESS:\n      return {\n        ...state,\n        user: action.user,\n        isLoggedin: true,\n        inProgress: false,\n        error: null,\n      };\n    case LOGIN_FAILED:\n    case SIGNUP_FAILED:\n      return {\n        ...state,\n        inProgress: false,\n        error: action.error,\n      };\n    case AUTHENTICATE_USER:\n      return {\n        ...state,\n        user: action.user,\n        isLoggedin: true,\n      };\n    case LOG_OUT:\n      return {\n        ...state,\n        user: {},\n        isLoggedin: false,\n      };\n    case EDIT_USER_SUCCESSFUL:\n      return {\n        ...state,\n        user: action.user,\n        error: false,\n      };\n    case EDIT_USER_FAILED:\n      return {\n        ...state,\n        error: action.error,\n      };\n    default:\n      return state;\n  }\n}\n","import {\n  USER_PROFILE_SUCCESS,\n  USER_PROFILE_FAILURE,\n  FETCH_USER_PROFILE,\n} from '../actions/actionTypes';\n\nconst initalProfileState = {\n  user: {},\n  error: null,\n  success: null,\n  inProgress: false,\n};\nexport default function profile(state = initalProfileState, action) {\n  switch (action.type) {\n    case USER_PROFILE_SUCCESS:\n      return {\n        ...state,\n        success: true,\n        user: action.user,\n        inProgress: false,\n      };\n    case USER_PROFILE_FAILURE:\n      return {\n        ...state,\n        error: action.error,\n        inProgress: false,\n      };\n    case FETCH_USER_PROFILE:\n      return {\n        ...state,\n        inProgress: true,\n      };\n    default:\n      return state;\n  }\n}\n","import {\n  FETCH_FRIENDS_SUCCESS,\n  ADD_FRIEND,\n  REMOVE_FRIEND,\n} from '../actions/actionTypes';\n\nconst defaultProfileState = [];\n\n// profile reducer\nexport default function friends(state = defaultProfileState, action) {\n  switch (action.type) {\n    case FETCH_FRIENDS_SUCCESS:\n      return [...action.friends];\n    case ADD_FRIEND:\n      return state.concat(action.friend);\n    case REMOVE_FRIEND:\n      const newArr = state.filter(\n        (friend) => friend.to_user._id !== action.userId\n      );\n      return newArr;\n\n    default:\n      return state;\n  }\n}\n","import { FETCH_SEARCH_RESULTS_SUCCESS } from '../actions/actionTypes';\n\nconst initialSearchState = {\n  results: [],\n};\n\nexport default function search(state = initialSearchState, action) {\n  switch (action.type) {\n    case FETCH_SEARCH_RESULTS_SUCCESS:\n      return {\n        ...state,\n        results: action.users,\n      };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport posts from './posts';\nimport auth from './auth';\nimport profile from './profile';\nimport friends from './friends';\nimport search from './search';\n\nexport default combineReducers({\n  posts,\n  auth,\n  profile,\n  friends,\n  search,\n});\n","import {\n  UPDATE_POSTS,\n  ADD_POST,\n  ADD_COMMENT,\n  UPDATE_POST_LIKE,\n} from '../actions/actionTypes';\n\nexport default function posts(state = [], action) {\n  switch (action.type) {\n    case UPDATE_POSTS:\n      return action.posts;\n    case ADD_POST:\n      return [action.post, ...state];\n    case ADD_COMMENT:\n      const newPosts = state.map((post) => {\n        if (post._id === action.postId) {\n          return {\n            ...post,\n            comments: [action.comment, ...post.comments],\n          };\n        }\n\n        return post;\n      });\n      return newPosts;\n    case UPDATE_POST_LIKE:\n      const updatedPosts = state.map((post) => {\n        if (post._id === action.postId) {\n          return {\n            ...post,\n            likes: [...post.likes, action.userId],\n          };\n        }\n\n        return post;\n      });\n      return updatedPosts;\n    default:\n      return state;\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport App from './components/App';\nimport { configureStore } from './store';\n\nconst store = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport logger from 'redux-logger';\nimport reducer from '../reducers';\n\nlet store;\n\nexport function configureStore() {\n  store = createStore(reducer, applyMiddleware(thunk, logger));\n\n  return store;\n}\n"],"sourceRoot":""}